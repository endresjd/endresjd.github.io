<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="John Endres"/><link rel="canonical" href="https://endresjd.github.io/publish/theming"/><meta name="twitter:url" content="https://endresjd.github.io/publish/theming"/><meta name="og:url" content="https://endresjd.github.io/publish/theming"/><title>Understand HTML Themes | John Endres</title><meta name="twitter:title" content="Understand HTML Themes | John Endres"/><meta name="og:title" content="Understand HTML Themes | John Endres"/><meta name="description" content="HTML Themes"/><meta name="twitter:description" content="HTML Themes"/><meta name="og:description" content="HTML Themes"/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to John Endres"/></head><body class="item-page"><header><div class="wrapper"><a class="site-name" href="/">John Endres</a><nav><ul><li><a href="/about">About this site</a></li><li><a href="/posts">Random posts</a></li><li><a class="selected" href="/publish">Stuff about publish</a></li></ul></nav></div></header><div class="wrapper"><article><div class="content"><p class="post date">Friday, May 7, 2021 at 9:46 AM</p><h1 class="john">Understand HTML Themes</h1><p>Going from the snippet on the Sundell site to the more complex one in the example I've been basing my learning off of and capturing some notes.</p><h2>From documentation</h2><p>Publish uses Plot as its HTML theming engine, which enables entire HTML pages to be defined using Swift. When using Publish, it’s recommended that you build your own website-specific theme — that can make full use of your own custom metadata, and be completely tailored to fit your website’s design.</p><p>Themes are defined using the Theme type, which uses an HTMLFactory implementation to create all of a website’s HTML pages.</p><h2>The key item</h2><p>More thorough documentation on how to build Publish themes, and some of the recommended best practices for doing so, will be added shortly.</p><h2>How to use a theme</h2><p>The generateHTML step generates the HTML defined in the Swift files based on the given theme. In this example it is using an extension referenced by the stativ var personal that creates an instance of an HTMLFactory customized locally.</p><p>.generateHTML(withTheme: .personal),</p><p>Generating a new theme seems to require duplicating the foundation theme entirely, since it is private, and moving on from there. Inside that theme are references to style sheets referenced via paths. Seeing how to reference our own. The base css file is tightly bound to the foundation theme, so seems like a good base/match. The problem is that the foundation theme seems to override all attempts at me overriding it. The style is copied, but into a sub folder. If put at the top it will fail because of the foundation one.</p><p>Made a styles folder (similar to the other project) with a modified styles.css, made my theme not copy over anything (the copy phase gets the default one always maybe?), and added a new copy phase to get the updated stylesheet. This allowed me to use the right styles. It still required a hard copy of the original theme code.</p><p><strong>Key</strong>: Resource paths are generated from the package folder and not the Resources folder. When specifying, you have to start with Resources.</p><p><strong>Look at</strong>: Indentation options used in the generate step.</p><h1 class="john">Factory protocol</h1><p>Each theme needs to be able to create each of the main 6 parts of a Publish web site.</p><ol><li>makeIndexHTML -- Create the HTML to use for the website's main index page.</li><li>makeSectionHTML -- Create the HTML to use for the index page of a section</li><li>makeItemHTML -- Create the HTML to use for an item</li><li>makePageHTML -- Create the HTML to use for a page</li><li>makeTagListHTML -- Create the HTML to use for the website's list of tags, if supported</li><li>makeTagDetailsHTML -- Create the HTML to use for a tag details page, used to represent a single tag</li></ol><h1 class="john">How does markdown translate to HTML</h1><p>Looking at makePageHTML() for this because this is where contentBody() is called. This just renders already premade body.html. Of course the current debugger wont print the value of that to the console.</p><p>The theme object uses a private extension to Node that has helpers for different elements it looks like.</p></div><span>Tagged with: </span><ul class="tag-list"><li><a href="/tags/publish">publish</a></li></ul></article></div><footer><p>Generated using <a href="https://github.com/johnsundell/publish">Publish</a></p><p><a href="/feed.rss">RSS feed</a></p></footer></body></html>